<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Login - FERREMAS</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <button onclick="history.back()">⬅ Volver</button>
</head>

<body>
  <h2>Iniciar Sesión</h2>
  {{mensaje}}
  
  <form method="POST" action="/login">
        <label for="email">Correo electrónico:</label><br>
        <input type="email" id="email" name="email" required><br><br>

        <label for="password">Contraseña:</label><br>
        <input type="password" id="password" name="password"
            pattern="(?=.*[A-Z])(?=.*\\d)(?=.*[^a-zA-Z0-9]).{8,}"
            title="Debe contener mínimo 8 caracteres, una mayúscula, un número y un carácter especial"
            required><br><br>

        <button type="submit">Ingresar</button>
    </form>

    <br>
    <a href="/register"><button type="button">Registrarse</button></a>

    <!-- Mostrar error si la URL contiene ?error=1 -->
    <div id="error-message" style="color: red; margin-top: 10px;"></div>

    <script>
        // Captura si la URL tiene error
        const params = new URLSearchParams(window.location.search);
        if (params.get("error") === "1") {
            document.getElementById("error-message").textContent = "Credenciales incorrectas.";
        }
    </script>
</body>

</html>
